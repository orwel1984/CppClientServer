BasedOnStyle: LLVM
Language: Cpp
AlwaysBreakAfterReturnType: All
AlwaysBreakTemplateDeclarations: Yes
BinPackParameters: true
BreakBeforeBraces: Allman
ColumnLimit: 120  # Changed from 0 to a reasonable limit
ContinuationIndentWidth: 4
IndentWidth: 4
NamespaceIndentation: All
AlignAfterOpenBracket: DontAlign  # Prevents forced alignment
PenaltyBreakBeforeFirstCallParameter: 100  # Helps with lambda positioning

# Add these to your existing configuration ONLY for header files
ForHeaderFiles:
  AllowAllArgumentsOnNextLine: false
  AllowAllParametersOfDeclarationOnNextLine: false
  BinPackParameters: false
  BreakBeforeBraces: Custom
  BraceWrapping:
    AfterClass: true
    AfterStruct: true
    AfterNamespace: false
  MaxEmptyLinesToKeep: 1
  PenaltyBreakBeforeFirstCallParameter: 200
  PenaltyBreakComment: 300
  PenaltyExcessCharacter: 100